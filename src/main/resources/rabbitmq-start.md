mq，一个消息系统，用于实现系统解耦、任务的异步处理、削峰填谷，提升应用的容错性和可维护性
缺点：
1、可用性降低，系统引入的外部依赖越多，系统稳定性越差，一旦mq宕机，业务必然受到影响。mq可用性如何提高？
2、系统复杂度提高。如何保证消息没有被重复消费？怎样处理消息丢失？保证消息的顺序性？
3、一致性问题。例如，A系统处理完消息，要给B、C、D发送消息。如果B、C系统处理成功，D处理失败，如何保证消息数据处理的一致性？

实现mq主要有两种方式：
1：AMQP,高级消息队列协议，是一个网络协议，遵循此协议不受客户端中间件产品和开发语言的限制，类似HTTP
2：JMS,即Java Message Service，是一个Java平台面向消息中间件的API，类似于JDBC，很多MQ都实现了JMS,如ActiveMQ
区别如下:
JMS是定义了统一的接口，来对消息操作进行统一；
AMQP是通过规定协议来统一数据交互的格式 JMS限定了必须使用Java语言；AMQP只是协议，不规定实现方式，因此是跨语言的。
JMS规定了两种消息模式；而AMQP的消息模式更加丰富
可靠性保障方式：
1、通过事务的方式。在生产者发送消息之前，开启事务，而后发送消息，如果消息发送至 RabbitMQ Server 失败后，进行事务回滚，重新发送。
如果 RabbitMQ Server 接收到消息，则提交事务。缺点就是效率很低，而消息队列一般用在高并发环境下，所以这种方式一般不会选择。
可以发现事务机制其实是同步操作，存在阻塞生产者的情况直到 RabbitMQ Server 应答，这样其实会很大程度上降低发送消息的性能，
所以一般不会使用事务机制来保证生产者的消息可靠性，而是使用发送方确认机制。
2、确认退回机制
